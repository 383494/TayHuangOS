# 系统调用

系统调用的中断号为0x40

其中rax为功能号

所有系统调用的功能号、功能、参数如下表所示
| 功能名          | 功能号 | 功能                        | 参数                                             | 返回值              |
| --------------- | ------ | --------------------------- | ------------------------------------------------ | ------------------- |
| moo             | 0x00   | 超级牛力                    | 无                                               | 无                  |
| sendmsg         | 0x01   | 发送消息(异步ipc)           | rsi: 消息包地址 rcx: 消息包长度 rbx: 目标进程pid | 是否成功            |
| recvmsg         | 0x02   | 从特定进程接受消息(异步ipc) | rdi: 接收消息包的地址 rbx: 目标进程pid           | 是否成功            |
| recvanymsg      | 0x03   | 接收消息(异步ipc)           | rdi: 接收消息包的地址                            | 发送消息的进程的pid |
| setmail_buffer  | 0x04   | 设置邮箱的buffer地址(vaddr) | rdi: 邮箱地址 rcx:邮箱大小                       | 无                  |
| sleep           | 0x05   | 休眠                        | 无                                               | 无                  |
| awake           | 0x06   | 唤醒特定进程                | rbx: 目标进程pid                                 | 无                  |
| wait_irq        | 0x07   | 等待某一irq                 | rbx: 等待的irq号                                 | 无                  |
| exit            | 0x08   | 退出                        | rbx: 返回值                                      | 无                  |